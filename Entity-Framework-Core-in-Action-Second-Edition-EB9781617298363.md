![Cover image for Entity Framework Core in Action, Second Edition](https://imgdetail.ebookreading.net/cover/cover/202109/EB9781617298363.jpg)

[Entity Framework Core in Action, Second Edition](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_1.html "Entity Framework Core in Action, Second Edition")
====================================================================================================================

Release Date : 2021/06/01

ISBN : 9781617298363

Book Description
-----------------

Entity Framework Core in Action, Second Edition teaches you to write flawless database interactions for .NET applications. Following relevant examples from author Jon Smith’s extensive experience, you’ll progress quickly from EF basics to advanced techniques. In addition to the latest EF features, this book addresses performance, security, refactoring, and unit testing. This updated edition also contains new material on NoSQL databases.
  
  

Table of Contents
-----------------

1. [Entity Framework Core in Action](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_2.html)
1. [Copyright](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_4.html)
1. [Praise for the first edition](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_5.html)
1. [contents](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_6.html)
1. [front matter](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_7.html)
    1. [foreword](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_7.html#sigil_toc_id_1)
    1. [preface](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_7.html#sigil_toc_id_2)
    1. [acknowledgments](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_7.html#sigil_toc_id_3)
    1. [about this book](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_7.html#sigil_toc_id_4)
    1. [Who should read this book?](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_7.html#sigil_toc_id_5)
    1. [How this book is organized](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_7.html#sigil_toc_id_6)
    1. [About the code](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_7.html#sigil_toc_id_7)
    1. [Code conventions](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_7.html#sigil_toc_id_8)
    1. [liveBook discussion forum](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_7.html#sigil_toc_id_9)
    1. [Online resources](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_7.html#sigil_toc_id_10)
    1. [about the author](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_7.html#sigil_toc_id_11)
    1. [about the cover illustration](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_7.html#sigil_toc_id_12)
1. [Part 1 Getting started](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_8.html)
1. [1 Introduction to Entity Framework Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html)
    1. [1.1 What you’ll learn from this book](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_13)
    1. [1.2 My “lightbulb moment” with Entity Framework](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_14)
    1. [1.3 Some words for existing EF6.x developers](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_15)
    1. [1.4 An overview of EF Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_16)
    1. [1.4.1 The downsides of O/RMs](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_17)
    1. [1.5 What about NoSQL?](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_18)
    1. [1.6 Your first EF Core application](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_19)
    1. [1.6.1 What you need to install](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_20)
    1. [1.6.2 Creating your own .NET Core console app with EF Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_21)
    1. [1.7 The database that MyFirstEfCoreApp will access](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_22)
    1. [1.8 Setting up the MyFirstEfCoreApp application](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_23)
    1. [1.8.1 The classes that map to the database: Book and Author](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_24)
    1. [1.8.2 The application’s DbContext](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_25)
    1. [1.9 Looking under the hood of EF Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_26)
    1. [1.9.1 Modeling the database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_27)
    1. [1.9.2 Reading data from the database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_28)
    1. [1.9.3 Updating the database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_29)
    1. [1.10 The stages of development of EF Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_30)
    1. [1.11 Should you use EF Core in your next project?](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_31)
    1. [1.11.1 .NET is the future software platform, and it’s fast!](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_32)
    1. [1.11.2 Open source and open communication](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_33)
    1. [1.11.3 Multiplatform applications and development](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_34)
    1. [1.11.4 Rapid development and good features](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_35)
    1. [1.11.5 Well supported](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_36)
    1. [1.11.6 Always high-performance](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_37)
    1. [1.12 When should you not use EF Core?](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_38)
    1. [Summary](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_9.html#sigil_toc_id_39)
1. [2 Querying the database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html)
    1. [2.1 Setting the scene: Our book-selling site](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_40)
    1. [2.1.1 The Book App’s relational database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_41)
    1. [2.1.2 Other relationship types not covered in this chapter](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_42)
    1. [2.1.3 The database showing all the tables](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_43)
    1. [2.1.4 The classes that EF Core maps to the database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_44)
    1. [2.2 Creating the application’s DbContext](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_45)
    1. [2.2.1 Defining the application’s DbContext: EfCoreContext](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_46)
    1. [2.2.2 Creating an instance of the application’s DbContext](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_47)
    1. [2.2.3 Creating a database for your own application](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_48)
    1. [2.3 Understanding database queries](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_49)
    1. [2.3.1 Application’s DbContext property access](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_50)
    1. [2.3.2 A series of LINQ/EF Core commands](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_51)
    1. [2.3.3 The execute command](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_52)
    1. [2.3.4 The two types of database queries](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_53)
    1. [2.4 Loading related data](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_54)
    1. [2.4.1 Eager loading: Loading relationships with the primary entity class](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_55)
    1. [2.4.2 Explicit loading: Loading relationships after the primary entity class](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_56)
    1. [2.4.3 Select loading: Loading specific parts of primary entity class and any relationships](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_57)
    1. [2.4.4 Lazy loading: Loading relationships as required](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_58)
    1. [2.5 Using client vs. server evaluation: Adapting data at the last stage of a query](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_59)
    1. [2.6 Building complex queries](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_60)
    1. [2.7 Introducing the architecture of the Book App](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_61)
    1. [2.8 Adding sorting, filtering, and paging](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_62)
    1. [2.8.1 Sorting books by price, publication date, and customer ratings](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_63)
    1. [2.8.2 Filtering books by publication year, categories, and customer ratings](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_64)
    1. [2.8.3 Other filtering options: Searching text for a specific string](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_65)
    1. [2.8.4 Paging the books in the list](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_66)
    1. [2.9 Putting it all together: Combining Query Objects](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_67)
    1. [Summary](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_10.html#sigil_toc_id_68)
1. [3 Changing the database content](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html)
    1. [3.1 Introducing EF Core’s entity State](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html#sigil_toc_id_69)
    1. [3.2 Creating new rows in a table](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html#sigil_toc_id_70)
    1. [3.2.1 Creating a single entity on its own](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html#sigil_toc_id_71)
    1. [3.2.2 Creating a book with a review](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html#sigil_toc_id_72)
    1. [3.3 Updating database rows](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html#sigil_toc_id_73)
    1. [3.3.1 Handling disconnected updates in a web application](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html#sigil_toc_id_74)
    1. [3.4 Handling relationships in updates](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html#sigil_toc_id_75)
    1. [3.4.1 Principal and dependent relationships](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html#sigil_toc_id_76)
    1. [3.4.2 Updating one-to-one relationships: Adding a PriceOffer to a book](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html#sigil_toc_id_77)
    1. [3.4.3 Updating one-to-many relationships: Adding a review to a book](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html#sigil_toc_id_78)
    1. [3.4.4 Updating a many-to-many relationship](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html#sigil_toc_id_79)
    1. [3.4.5 Advanced feature: Updating relationships via foreign keys](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html#sigil_toc_id_80)
    1. [3.5 Deleting entities](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html#sigil_toc_id_81)
    1. [3.5.1 Soft-delete approach: Using a global query filter to hide entities](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html#sigil_toc_id_82)
    1. [3.5.2 Deleting a dependent-only entity with no relationships](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html#sigil_toc_id_83)
    1. [3.5.3 Deleting a principal entity that has relationships](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html#sigil_toc_id_84)
    1. [3.5.4 Deleting a book with its dependent relationships](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html#sigil_toc_id_85)
    1. [Summary](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_11.html#sigil_toc_id_86)
1. [4 Using EF Core in business logic](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html)
    1. [4.1 The questions to ask and the decisions you need to make before you start coding](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_87)
    1. [4.1.1 The three levels of complexity of your business logic code](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_88)
    1. [4.2 Complex business logic example: Processing an order for books](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_89)
    1. [4.3 Using a design pattern to implement complex business logic](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_90)
    1. [4.3.1 Five guidelines for building business logic that uses EF Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_91)
    1. [4.4 Implementing the business logic for processing an order](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_92)
    1. [4.4.1 Guideline 1: Business logic has first call on defining the database structure](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_93)
    1. [4.4.2 Guideline 2: Business logic should have no distractions](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_94)
    1. [4.4.3 Guideline 3: Business logic should think that it’s working on in-memory data](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_95)
    1. [4.4.4 Guideline 4: Isolate the database access code into a separate project](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_96)
    1. [4.4.5 Guideline 5: Business logic shouldn’t call EF Core’s SaveChanges](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_97)
    1. [4.4.6 Putting it all together: Calling the order-processing business logic](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_98)
    1. [4.4.7 Placing an order in the Book App](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_99)
    1. [4.4.8 The pros and cons of the complex business logic pattern](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_100)
    1. [4.5 Simple business logic example: ChangePriceOfferService](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_101)
    1. [4.5.1 My design approach for simple business logic](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_102)
    1. [4.5.2 Writing the ChangePriceOfferService code](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_103)
    1. [4.5.3 The pros and cons of this business logic pattern](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_104)
    1. [4.6 Validation business logic example: Adding review to a book, with checks](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_105)
    1. [4.6.1 The pros and cons of this business logic pattern](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_106)
    1. [4.7 Adding extra features to your business logic handling](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_107)
    1. [4.7.1 Validating the data that you write to the database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_108)
    1. [4.7.2 Using transactions to daisy-chain a sequence of business logic code](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_109)
    1. [4.7.3 Using the RunnerTransact2WriteDb class](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_110)
    1. [Summary](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_12.html#sigil_toc_id_111)
1. [5 Using EF Core in ASP.NET Core web applications](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html)
    1. [5.1 Introducing ASP.NET Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_112)
    1. [5.2 Understanding the architecture of the Book App](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_113)
    1. [5.3 Understanding dependency injection](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_114)
    1. [5.3.1 Why you need to learn about DI in ASP.NET Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_115)
    1. [5.3.2 A basic example of dependency injection in ASP.NET Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_116)
    1. [5.3.3 The lifetime of a service created by DI](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_117)
    1. [5.3.4 Special considerations for Blazor Server applications](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_118)
    1. [5.4 Making the application’s DbContext available via DI](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_119)
    1. [5.4.1 Providing information on the database’s location](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_120)
    1. [5.4.2 Registering your application’s DbContext with the DI provider](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_121)
    1. [5.4.3 Registering a DbContext Factory with the DI provider](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_122)
    1. [5.5 Calling your database access code from ASP.NET Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_123)
    1. [5.5.1 A summary of how ASP.NET Core MVC works and the terms it uses](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_124)
    1. [5.5.2 Where does the EF Core code live in the Book App?](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_125)
    1. [5.6 Implementing the book list query page](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_126)
    1. [5.6.1 Injecting an instance of the application’s DbContext via DI](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_127)
    1. [5.6.2 Using the DbContext Factory to create an instance of a DbContext](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_128)
    1. [5.7 Implementing your database methods as a DI service](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_129)
    1. [5.7.1 Registering your class as a DI service](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_130)
    1. [5.7.2 Injecting ChangePubDateService into the ASP.NET action method](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_131)
    1. [5.7.3 Improving registering your database access classes as services](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_132)
    1. [5.8 Deploying an ASP.NET Core application with a database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_133)
    1. [5.8.1 Knowing where the database is on the web server](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_134)
    1. [5.8.2 Creating and migrating the database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_135)
    1. [5.9 Using EF Core’s migration feature to change the database’s structure](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_136)
    1. [5.9.1 Updating your production database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_137)
    1. [5.9.2 Having your application migrate your database on startup](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_138)
    1. [5.10 Using async/await for better scalability](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_139)
    1. [5.10.1 Why async/await is useful in a web application using EF Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_140)
    1. [5.10.2 Where should you use async/await with database accesses?](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_141)
    1. [5.10.3 Changing over to async/await versions of EF Core commands](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_142)
    1. [5.11 Running parallel tasks: How to provide the DbContext](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_143)
    1. [5.11.1 Obtaining an instance of your application’s DbContext to run in parallel](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_144)
    1. [5.11.2 Running a background service in ASP.NET Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_145)
    1. [5.11.3 Other ways of obtaining a new instance of the application’s DbContext](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_146)
    1. [Summary](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_13.html#sigil_toc_id_147)
1. [6 Tips and techniques for reading and writing with EF Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_14.html)
    1. [6.1 Reading from the database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_14.html#sigil_toc_id_148)
    1. [6.1.1 Exploring the relational fixup stage in a query](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_14.html#sigil_toc_id_149)
    1. [6.1.2 Understanding what AsNoTracking and its variant do](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_14.html#sigil_toc_id_150)
    1. [6.1.3 Reading in hierarchical data efficiently](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_14.html#sigil_toc_id_151)
    1. [6.1.4 Understanding how the Include method works](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_14.html#sigil_toc_id_152)
    1. [6.1.5 Making loading navigational collections fail-safe](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_14.html#sigil_toc_id_153)
    1. [6.1.6 Using Global Query Filters in real-world situations](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_14.html#sigil_toc_id_154)
    1. [6.1.7 Considering LINQ commands that need special attention](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_14.html#sigil_toc_id_155)
    1. [6.1.8 Using AutoMapper to automate building Select queries](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_14.html#sigil_toc_id_156)
    1. [6.1.9 Evaluating how EF Core creates an entity class when reading data in](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_14.html#sigil_toc_id_157)
    1. [6.2 Writing to the database with EF Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_14.html#sigil_toc_id_158)
    1. [6.2.1 Evaluating how EF Core writes entities/relationships to the database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_14.html#sigil_toc_id_159)
    1. [6.2.2 Evaluating how DbContext handles writing out entities/relationships](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_14.html#sigil_toc_id_160)
    1. [6.2.3 A quick way to copy data with relationships](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_14.html#sigil_toc_id_161)
    1. [6.2.4 A quick way to delete an entity](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_14.html#sigil_toc_id_162)
    1. [Summary](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_14.html#sigil_toc_id_163)
1. [Part 2 Entity Framework in depth](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_15.html)
1. [7 Configuring nonrelational properties](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html)
    1. [7.1 Three ways of configuring EF Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_164)
    1. [7.2 A worked example of configuring EF Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_165)
    1. [7.3 Configuring by convention](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_166)
    1. [7.3.1 Conventions for entity classes](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_167)
    1. [7.3.2 Conventions for parameters in an entity class](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_168)
    1. [7.3.3 Conventions for name, type, and size](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_169)
    1. [7.3.4 By convention, the nullability of a property is based on .NET type](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_170)
    1. [7.3.5 An EF Core naming convention identifies primary keys](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_171)
    1. [7.4 Configuring via Data Annotations](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_172)
    1. [7.4.1 Using annotations from System.ComponentModel.DataAnnotations](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_173)
    1. [7.4.2 Using annotations from System.ComponentModel.DataAnnotations.Schema](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_174)
    1. [7.5 Configuring via the Fluent API](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_175)
    1. [7.6 Excluding properties and classes from the database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_176)
    1. [7.6.1 Excluding a class or property via Data Annotations](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_177)
    1. [7.6.2 Excluding a class or property via the Fluent API](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_178)
    1. [7.7 Setting database column type, size, and nullability](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_179)
    1. [7.8 Value conversions: Changing data to/from the database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_180)
    1. [7.9 The different ways of configuring the primary key](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_181)
    1. [7.9.1 Configuring a primary key via Data Annotations](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_182)
    1. [7.9.2 Configuring a primary key via the Fluent API](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_183)
    1. [7.9.3 Configuring an entity as read-only](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_184)
    1. [7.10 Adding indexes to database columns](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_185)
    1. [7.11 Configuring the naming on the database side](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_186)
    1. [7.11.1 Configuring table names](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_187)
    1. [7.11.2 Configuring the schema name and schema groupings](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_188)
    1. [7.11.3 Configuring the database column names in a table](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_189)
    1. [7.12 Configuring Global Query Filters](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_190)
    1. [7.13 Applying Fluent API commands based on the database provider type](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_191)
    1. [7.14 Shadow properties: Hiding column data inside EF Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_192)
    1. [7.14.1 Configuring shadow properties](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_193)
    1. [7.14.2 Accessing shadow properties](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_194)
    1. [7.15 Backing fields: Controlling access to data in an entity class](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_195)
    1. [7.15.1 Creating a simple backing field accessed by a read/write property](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_196)
    1. [7.15.2 Creating a read-only column](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_197)
    1. [7.15.3 Concealing a person’s date of birth: Hiding data inside a class](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_198)
    1. [7.15.4 Configuring backing fields](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_199)
    1. [7.16 Recommendations for using EF Core’s configuration](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_200)
    1. [7.16.1 Use By Convention configuration first](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_201)
    1. [7.16.2 Use validation Data Annotations wherever possible](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_202)
    1. [7.16.3 Use the Fluent API for anything else](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_203)
    1. [7.16.4 Automate adding Fluent API commands by class/property signatures](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_204)
    1. [Summary](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_16.html#sigil_toc_id_205)
1. [8 Configuring relationships](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html)
    1. [8.1 Defining some relationship terms](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_206)
    1. [8.2 What navigational properties do you need?](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_207)
    1. [8.3 Configuring relationships](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_208)
    1. [8.4 Configuring relationships By Convention](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_209)
    1. [8.4.1 What makes a class an entity class?](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_210)
    1. [8.4.2 An example of an entity class with navigational properties](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_211)
    1. [8.4.3 How EF Core finds foreign keys By Convention](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_212)
    1. [8.4.4 Nullability of foreign keys: Required or optional dependent relationships](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_213)
    1. [8.4.5 Foreign keys: What happens if you leave them out?](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_214)
    1. [8.4.6 When does By Convention configuration not work?](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_215)
    1. [8.5 Configuring relationships by using Data Annotations](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_216)
    1. [8.5.1 The ForeignKey Data Annotation](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_217)
    1. [8.5.2 The InverseProperty Data Annotation](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_218)
    1. [8.6 Fluent API relationship configuration commands](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_219)
    1. [8.6.1 Creating a one-to-one relationship](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_220)
    1. [8.6.2 Creating a one-to-many relationship](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_221)
    1. [8.6.3 Creating a many-to-many relationship](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_222)
    1. [8.7 Controlling updates to collection navigational properties](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_223)
    1. [8.8 Additional methods available in Fluent API relationships](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_224)
    1. [8.8.1 OnDelete: Changing the delete action of a dependent entity](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_225)
    1. [8.8.2 IsRequired: Defining the nullability of the foreign key](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_226)
    1. [8.8.3 HasPrincipalKey: Using an alternate unique key](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_227)
    1. [8.8.4 Less-used options in Fluent API relationships](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_228)
    1. [8.9 Alternative ways of mapping entities to database tables](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_229)
    1. [8.9.1 Owned types: Adding a normal class into an entity class](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_230)
    1. [8.9.2 Table per hierarchy (TPH): Placing inherited classes into one table](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_231)
    1. [8.9.3 Table per Type (TPT): Each class has its own table](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_232)
    1. [8.9.4 Table splitting: Mapping multiple entity classes to the same table](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_233)
    1. [8.9.5 Property bag: Using a dictionary as an entity class](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_234)
    1. [Summary](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_17.html#sigil_toc_id_235)
1. [9 Handling database migrations](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html)
    1. [9.1 How this chapter is organized](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_236)
    1. [9.2 Understanding the complexities of changing your application’s database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_237)
    1. [9.2.1 A view of what databases need updating](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_238)
    1. [9.2.2 Handling a migration that can lose data](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_239)
    1. [9.3 Part 1: Introducing the three approaches to creating a migration](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_240)
    1. [9.4 Creating a migration by using EF Core’s add migration command](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_241)
    1. [9.4.1 Requirements before running any EF Core migration command](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_242)
    1. [9.4.2 Running the add migration command](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_243)
    1. [9.4.3 Seeding your database via an EF Core migration](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_244)
    1. [9.4.4 Handling EF Core migrations with multiple developers](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_245)
    1. [9.4.5 Using a custom migration table to allow multiple DbContexts to one database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_246)
    1. [9.5 Editing an EF Core migration to handle complex situations](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_247)
    1. [9.5.1 Adding and removing MigrationBuilder methods inside the migration class](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_248)
    1. [9.5.2 Adding SQL commands to a migration](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_249)
    1. [9.5.3 Adding your own custom migration commands](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_250)
    1. [9.5.4 Altering a migration to work for multiple database types](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_251)
    1. [9.6 Using SQL scripts to build migrations](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_252)
    1. [9.6.1 Using SQL database comparison tools to produce migration](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_253)
    1. [9.6.2 Handcoding SQL change scripts to migrate the database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_254)
    1. [9.6.3 Checking that your SQL change scripts matches EF Core’s database model](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_255)
    1. [9.7 Using EF Core’s reverse-engineering tool](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_256)
    1. [9.7.1 Running EF Core’s reverse-engineering command](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_257)
    1. [9.7.2 Installing and running EF Core Power Tools reverse-engineering command](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_258)
    1. [9.7.3 Updating your entity classes and DbContext when the database changes](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_259)
    1. [9.8 Part 2: Applying your migrations to a database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_260)
    1. [9.8.1 Calling EF Core’s Database.Migrate method from your main application](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_261)
    1. [9.8.2 Executing EF Core’s Database.Migrate method from a standalone application](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_262)
    1. [9.8.3 Applying an EF Core’s migration via an SQL change script](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_263)
    1. [9.8.4 Applying SQL change scripts by using a migration tool](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_264)
    1. [9.9 Migrating a database while the application is running](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_265)
    1. [9.9.1 Handling a migration that doesn’t contain an application-breaking change](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_266)
    1. [9.9.2 Handling application-breaking changes when you can’t stop the app](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_267)
    1. [Summary](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_18.html#sigil_toc_id_268)
1. [10 Configuring advanced features and handling concurrency conflicts](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html)
    1. [10.1 DbFunction: Using user-defined functions (UDFs) with EF Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_269)
    1. [10.1.1 Configuring a scalar-valued UDF](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_270)
    1. [10.1.2 Configuring a table-valued UDF](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_271)
    1. [10.1.3 Adding your UDF code to the database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_272)
    1. [10.1.4 Using a registered UDF in your database queries](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_273)
    1. [10.2 Computed column: A dynamically calculated column value](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_274)
    1. [10.3 Setting a default value for a database column](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_275)
    1. [10.3.1 Using the HasDefaultValue method to add a constant value for a column](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_276)
    1. [10.3.2 Using the HasDefaultValueSql method to add an SQL command for a column](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_277)
    1. [10.3.3 Using the HasValueGenerator method to assign a value generator to a property](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_278)
    1. [10.4 Sequences: Providing numbers in a strict order](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_279)
    1. [10.5 Marking database-generated properties](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_280)
    1. [10.5.1 Marking a column that’s generated on an addition or update](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_281)
    1. [10.5.2 Marking a column’s value as set on insert of a new row](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_282)
    1. [10.5.3 Marking a column/property as “normal”](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_283)
    1. [10.6 Handling simultaneous updates: Concurrency conflicts](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_284)
    1. [10.6.1 Why do concurrency conflicts matter?](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_285)
    1. [10.6.2 EF Core’s concurrency conflict-handling features](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_286)
    1. [10.6.3 Handling a DbUpdateConcurrencyException](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_287)
    1. [10.6.4 The disconnected concurrent update issue](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_288)
    1. [Summary](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_19.html#sigil_toc_id_289)
1. [11 Going deeper into the DbContext](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html)
    1. [11.1 Overview of the DbContext class’s properties](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_290)
    1. [11.2 Understanding how EF Core tracks changes](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_291)
    1. [11.3 Looking at commands that change an entity’s State](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_292)
    1. [11.3.1 The Add command: Inserting a new row into the database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_293)
    1. [11.3.2 The Remove method: Deleting a row from the database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_294)
    1. [11.3.3 Modifying an entity class by changing the data in that entity class](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_295)
    1. [11.3.4 Modifying an entity class by calling the Update method](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_296)
    1. [11.3.5 The Attach method: Start tracking an existing untracked entity class](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_297)
    1. [11.3.6 Setting the State of an entity directly](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_298)
    1. [11.3.7 TrackGraph: Handling disconnected updates with relationships](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_299)
    1. [11.4 SaveChanges and its use of ChangeTracker.DetectChanges](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_300)
    1. [11.4.1 How SaveChanges finds all the State changes](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_301)
    1. [11.4.2 What to do if ChangeTracker.DetectChanges is taking too long](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_302)
    1. [11.4.3 Using the entities’ State within the SaveChanges method](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_303)
    1. [11.4.4 Catching entity class’s State changes via events](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_304)
    1. [11.4.5 Triggering events when SaveChanges/SaveChangesAsync is called](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_305)
    1. [11.4.6 EF Core interceptors](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_306)
    1. [11.5 Using SQL commands in an EF Core application](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_307)
    1. [11.5.1 FromSqlRaw/FromSqlInterpolated: Using SQL in an EF Core query](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_308)
    1. [11.5.2 ExecuteSqlRaw/ExecuteSqlInterpolated: Executing a nonquery command](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_309)
    1. [11.5.3 AsSqlQuery Fluent API method: Mapping entity classes to queries](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_310)
    1. [11.5.4 Reload: Used after ExecuteSql commands](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_311)
    1. [11.5.5 GetDbConnection: Running your own SQL commands](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_312)
    1. [11.6 Accessing information about the entity classes and database tables](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_313)
    1. [11.6.1 Using context.Entry(entity).Metadata to reset primary keys](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_314)
    1. [11.6.2 Using context.Model to get database information](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_315)
    1. [11.7 Dynamically changing the DbContext’s connection string](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_316)
    1. [11.8 Handling database connection problems](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_317)
    1. [11.8.1 Handling database transactions with EF Core’s execution strategy](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_318)
    1. [11.8.2 Altering or writing your own execution strategy](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_319)
    1. [Summary](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_20.html#sigil_toc_id_320)
1. [Part 3 Using Entity Framework Core in real-world applications](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_21.html)
1. [12 Using entity events to solve business problems](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html)
    1. [12.1 Using events to solve business problems](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_321)
    1. [12.1.1 Example of using domain events](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_322)
    1. [12.1.2 Example of integration events](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_323)
    1. [12.2 Defining where domain events and integration events are useful](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_324)
    1. [12.3 Where might you use events with EF Core?](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_325)
    1. [12.3.1 Pro: Follows the SoC design principle](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_326)
    1. [12.3.2 Pro: Makes database updates robust](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_327)
    1. [12.3.3 Con: Makes your application more complex](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_328)
    1. [12.3.4 Con: Makes following the flow of the code more difficult](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_329)
    1. [12.4 Implementing a domain event system with EF Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_330)
    1. [12.4.1 Create some domain events classes to be triggered](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_331)
    1. [12.4.2 Add code to the entity classes to hold the domain events](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_332)
    1. [12.4.3 Alter the entity class to detect a change to trigger an event on](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_333)
    1. [12.4.4 Create event handlers that are matched to the domain events](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_334)
    1. [12.4.5 Build an Event Runner that finds and runs the correct event handler](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_335)
    1. [12.4.6 Override SaveChanges and insert the Event Runner before SaveChanges is called](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_336)
    1. [12.4.7 Register the Event Runner and all the event handlers](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_337)
    1. [12.5 Implementing an integration event system with EF Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_338)
    1. [12.5.1 Building a service that communicates with the warehouse](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_339)
    1. [12.5.2 Overriding SaveChanges to handle the integration event](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_340)
    1. [12.6 Improving the domain event and integration event implementations](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_341)
    1. [12.6.1 Generalizing events: Running before, during, and after the call to SaveChanges](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_342)
    1. [12.6.2 Adding support for async event handlers](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_343)
    1. [12.6.3 Handling multiple event handers for the same event](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_344)
    1. [12.6.4 Handling event sagas in which one event kicks off another event](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_345)
    1. [Summary](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_22.html#sigil_toc_id_346)
1. [13 Domain-Driven Design and other architectural approaches](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html)
    1. [13.1 A good software architecture makes it easier to build and maintain your application](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_347)
    1. [13.2 The Book App’s evolving architecture](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_348)
    1. [13.2.1 Building a modular monolith to enforce the SoC principles](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_349)
    1. [13.2.2 Using DDD principles both architecturally and on the entity classes](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_350)
    1. [13.2.3 Applying a clean architecture as described by Robert C. Martin](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_351)
    1. [13.3 Introduction to DDD at the entity class level](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_352)
    1. [13.4 Altering the Book App entities to follow the DDD approach](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_353)
    1. [13.4.1 Changing the properties in the Book entity to read-only](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_354)
    1. [13.4.2 Updating the Book entity properties via methods in the entity class](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_355)
    1. [13.4.3 Controlling how the Book entity is created](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_356)
    1. [13.4.4 Understanding the differences between an entity and a value object](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_357)
    1. [13.4.5 Minimizing the relationships between entity classes](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_358)
    1. [13.4.6 Grouping entity classes](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_359)
    1. [13.4.7 Deciding when the business logic shouldn’t be run inside an entity](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_360)
    1. [13.4.8 Applying DDD’s bounded context to your application’s DbContext](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_361)
    1. [13.5 Using your DDD-styled entity classes in your application](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_362)
    1. [13.5.1 Calling the AddPromotion access method via a repository pattern](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_363)
    1. [13.5.2 Calling the AddPromotion access method via a class-to-method-call library](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_364)
    1. [13.5.3 Adding a Review to the Book entity class via a repository pattern](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_365)
    1. [13.5.4 Adding a Review to the Book entity class via a class-to-method-call library](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_366)
    1. [13.6 The downside of DDD entities: Too many access methods](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_367)
    1. [13.7 Getting around performance issues in DDD-styled entities](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_368)
    1. [13.7.1 Allow database code into your entity classes](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_369)
    1. [13.7.2 Make the Review constructor public and write nonentity code to add a Review](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_370)
    1. [13.7.3 Use domain events to ask an event handler to add a review to the database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_371)
    1. [13.8 Three architectural approaches: Did they work?](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_372)
    1. [13.8.1 A modular monolith approach that enforces SoC by using projects](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_373)
    1. [13.8.2 DDD principles, both architecturally and on the entity classes](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_374)
    1. [13.8.3 Clean architecture as described by Robert C. Martin](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_375)
    1. [Summary](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_23.html#sigil_toc_id_376)
1. [14 EF Core performance tuning](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html)
    1. [14.1 Part 1: Deciding which performance issues to fix](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_377)
    1. [14.1.1 “Don’t performance-tune too early” doesn’t mean you stop thinking](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_378)
    1. [14.1.2 How do you decide what’s slow and needs performance tuning?](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_379)
    1. [14.1.3 The cost of finding and fixing performance issues](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_380)
    1. [14.2 Part 2: Techniques for diagnosing a performance issue](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_381)
    1. [14.2.1 Stage 1: Get a good overview, measuring the user’s experience](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_382)
    1. [14.2.2 Stage 2: Find all the database code involved in the feature you’re tuning](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_383)
    1. [14.2.3 Stage 3: Inspect the SQL code to find poor performance](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_384)
    1. [14.3 Part 3: Techniques for fixing performance issues](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_385)
    1. [14.4 Using good patterns makes your application perform well](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_386)
    1. [14.4.1 Using Select loading to load only the columns you need](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_387)
    1. [14.4.2 Using paging and/or filtering of searches to reduce the rows you load](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_388)
    1. [14.4.3 Warning: Lazy loading will affect database performance](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_389)
    1. [14.4.4 Always adding the AsNoTracking method to read-only queries](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_390)
    1. [14.4.5 Using the async version of EF Core commands to improve scalability](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_391)
    1. [14.4.6 Ensuring that your database access code is isolated/decoupled](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_392)
    1. [14.5 Performance antipatterns: Database queries](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_393)
    1. [14.5.1 Antipattern: Not minimizing the number of calls to the database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_394)
    1. [14.5.2 Antipattern: Missing indexes from a property that you want to search on](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_395)
    1. [14.5.3 Antipattern: Not using the fastest way to load a single entity](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_396)
    1. [14.5.4 Antipattern: Allowing too much of a data query to be moved into the software side](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_397)
    1. [14.5.5 Antipattern: Not moving calculations into the database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_398)
    1. [14.5.6 Antipattern: Not replacing suboptimal SQL in a LINQ query](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_399)
    1. [14.5.7 Antipattern: Not precompiling frequently used queries](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_400)
    1. [14.6 Performance antipatterns: Writes](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_401)
    1. [14.6.1 Antipattern: Calling SaveChanges multiple times](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_402)
    1. [14.6.2 Antipattern: Making DetectChanges work too hard](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_403)
    1. [14.6.3 Antipattern: Not using HashSet&lt;T&gt; for navigational collection properties](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_404)
    1. [14.6.4 Antipattern: Using the Update method when you want to change only part of the entity](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_405)
    1. [14.6.5 Antipattern: Startup issue—Using one large DbContext](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_406)
    1. [14.7 Performance patterns: Scalability of database accesses](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_407)
    1. [14.7.1 Using pooling to reduce the cost of a new application’s DbContext](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_408)
    1. [14.7.2 Adding scalability with little effect on overall speed](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_409)
    1. [14.7.3 Helping your database scalability by making your queries simple](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_410)
    1. [14.7.4 Scaling up the database server](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_411)
    1. [14.7.5 Picking the right architecture for applications that need high scalability](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_412)
    1. [Summary](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_24.html#sigil_toc_id_413)
1. [15 Master class on performance-tuning database queries](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_25.html)
    1. [15.1 The test setup and a summary of the four performance approaches](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_25.html#sigil_toc_id_414)
    1. [15.2 Good LINQ approach: Using an EF Core Select query](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_25.html#sigil_toc_id_415)
    1. [15.3 LINQ+UDFs approach: Adding some SQL to your LINQ code](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_25.html#sigil_toc_id_416)
    1. [15.4 SQL+Dapper: Creating your own SQL](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_25.html#sigil_toc_id_417)
    1. [15.5 LINQ+caching approach: Precalculating costly query parts](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_25.html#sigil_toc_id_418)
    1. [15.5.1 Adding a way to detect changes that affect the cached values](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_25.html#sigil_toc_id_419)
    1. [15.5.2 Adding code to update the cached values](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_25.html#sigil_toc_id_420)
    1. [15.5.3 Adding cache properties to the Book entity with concurrency handling](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_25.html#sigil_toc_id_421)
    1. [15.5.4 Adding a checking/healing system to your event system](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_25.html#sigil_toc_id_422)
    1. [15.6 Comparing the four performance approaches with development effort](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_25.html#sigil_toc_id_423)
    1. [15.7 Improving database scalability](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_25.html#sigil_toc_id_424)
    1. [Summary](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_25.html#sigil_toc_id_425)
1. [16 Cosmos DB, CQRS, and other database types](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html)
    1. [16.1 The differences between relational and NoSQL databases](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_426)
    1. [16.2 Introduction to Cosmos DB and its EF Core provider](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_427)
    1. [16.3 Building a Command and Query Responsibility Segregation (CQRS) system using Cosmos DB](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_428)
    1. [16.4 The design of a two-database CQRS architecture application](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_429)
    1. [16.4.1 Creating an event to trigger when the SQL Book entity changes](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_430)
    1. [16.4.2 Adding events to the Book entity send integration events](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_431)
    1. [16.4.3 Using the EfCore.GenericEventRunner to override your BookDbContext](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_432)
    1. [16.4.4 Creating the Cosmos entity classes and DbContext](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_433)
    1. [16.4.5 Creating the Cosmos event handlers](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_434)
    1. [16.5 Understanding the structure and data of a Cosmos DB account](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_435)
    1. [16.5.1 The Cosmos DB structure as seen from EF Core](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_436)
    1. [16.5.2 How the CosmosClass is stored in Cosmos DB](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_437)
    1. [16.6 Displaying books via Cosmos DB](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_438)
    1. [16.6.1 Cosmos DB differences from relational databases](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_439)
    1. [16.6.2 Cosmos DB/EF Core difference: Migrating a Cosmos database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_440)
    1. [16.6.3 EF Core 5 Cosmos DB database provider limitations](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_441)
    1. [16.7 Was using Cosmos DB worth the effort? Yes!](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_442)
    1. [16.7.1 Evaluating the performance of the two-database CQRS in the Book App](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_443)
    1. [16.7.2 Fixing the features that EF Core 5 Cosmos DB database provider couldn’t handle](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_444)
    1. [16.7.3 How difficult would it be to use this two-database CQRS design in your application?](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_445)
    1. [16.8 Differences in other database types](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_446)
    1. [Summary](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_26.html#sigil_toc_id_447)
1. [17 Unit testing EF Core applications](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html)
    1. [17.1 An introduction to the unit test setup](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_448)
    1. [17.1.1 The test environment: xUnit unit test library](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_449)
    1. [17.1.2 A library I created to help with unit testing EF Core applications](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_450)
    1. [17.2 Getting your application’s DbContext ready for unit testing](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_451)
    1. [17.2.1 The application’s DbContext options are provided via its constructor](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_452)
    1. [17.2.2 Setting an application’s DbContext options via OnConfiguring](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_453)
    1. [17.3 Three ways to simulate the database when testing EF Core applications](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_454)
    1. [17.4 Choosing between a production-type database and an SQLite in-memory database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_455)
    1. [17.5 Using a production-type database in your unit tests](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_456)
    1. [17.5.1 Providing a connection string to the database to use for the unit test](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_457)
    1. [17.5.2 Providing a database per test class to allow xUnit to run tests in parallel](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_458)
    1. [17.5.3 Making sure that the database’s schema is up to date and the database is empty](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_459)
    1. [17.5.4 Mimicking the database setup that EF Core migration would deliver](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_460)
    1. [17.6 Using an SQLite in-memory database for unit testing](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_461)
    1. [17.7 Stubbing or mocking an EF Core database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_462)
    1. [17.8 Unit testing a Cosmos DB database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_463)
    1. [17.9 Seeding a database with test data to test your code correctly](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_464)
    1. [17.10 Solving the problem of one database access breaking another stage of your test](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_465)
    1. [17.10.1 Test code using ChangeTracker.Clear in a disconnected state](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_466)
    1. [17.10.2 Test code by using multiple DbContext instances in a disconnected state](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_467)
    1. [17.11 Capturing the database commands sent to a database](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_468)
    1. [17.11.1 Using the LogTo option extension to filter and capture EF Core logging](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_469)
    1. [17.11.2 Using the ToQueryString method to show the SQL generated from a LINQ query](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_470)
    1. [Summary](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_27.html#sigil_toc_id_471)
1. [Appendix. A brief introduction to LINQ](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_28.html)
    1. [A.1 An introduction to the LINQ language](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_28.html#sigil_toc_id_472)
    1. [A.1.1 The two ways you can write LINQ queries](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_28.html#sigil_toc_id_473)
    1. [A.1.2 The data operations you can do with LINQ](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_28.html#sigil_toc_id_474)
    1. [A.2 Introduction to IQueryable&lt;T&gt; type, and why it’s useful](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_28.html#sigil_toc_id_475)
    1. [A.2.1 Splitting up a complex LINQ query by using the IQueryable&lt;T&gt; type](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_28.html#sigil_toc_id_476)
    1. [A.2.2 How EF Core translates IQueryable&lt;T&gt; into database code](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_28.html#sigil_toc_id_477)
    1. [A.3 Querying an EF Core database by using LINQ](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_28.html#sigil_toc_id_478)
1. [index](https://ebookreading.net/view/book/Entity+Framework+Core+in+Action%2C+Second+Edition-EB9781617298363_29.html)
