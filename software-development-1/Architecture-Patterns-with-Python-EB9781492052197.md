![Cover image for Architecture Patterns with Python](https://imgdetail.ebookreading.net/cover/cover/20200215/EB9781492052197.jpg)

[Architecture Patterns with Python](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_1.html "Architecture Patterns with Python")
====================================================================================================================

Author : [Bob Gregory](https://ebookreading.net/search/author/Bob+Gregory),[ Harry Percival](https://ebookreading.net/search/author/+Harry+Percival)

Release Date : 2020/04/01

ISBN : 9781492052197

Topic : [Software Development](https://ebookreading.net/search/category/software-development)

Book Description
-----------------

 As Python continues to grow in popularity, projects are becoming larger and more complex. Many Python developers are now taking an interest in high-level software architecture patterns such as hexagonal/clean architecture, event-driven architecture, and strategic patterns prescribed by domain-driven design (DDD). But translating those patterns into Python isn’t always straightforward.
With this practical guide, Harry Percival and Bob Gregory from MADE.com introduce proven architectural design patterns to help Python developers manage application complexity. Each pattern is illustrated with concrete examples in idiomatic Python that explain how to avoid some of the unnecessary verbosity of Java and C# syntax. You’ll learn how to implement each of these patterns in a Pythonic way.
Architectural design patterns include:
Dependency inversion, and its links to ports and adapters (hexagonal/clean architecture)Domain-driven design’s distinction between entities, value objects, and aggregatesRepository and Unit of Work patterns for persistent storageEvents, commands, and the message busCommand Query Responsibility Segregation (CQRS)Event-driven architecture and reactive microservices        Show and hide more                
Table of Contents
-----------------

1. [Preface](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_4.html#preface)
    1. [Managing Complexity, Solving Business Problems](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_4.html#idm45811598478584)
    1. [Why Python?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_4.html#idm45811604625784)
    1. [TDD, DDD and Event-Driven Architecture](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_4.html#idm45811598327272)
    1. [Who Should Read This Book](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_4.html#idm45811598199960)
    1. [A note to our Early Release Readers](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_4.html#idm45811598465560)
    1. [A Brief Overview of What You’ll Learn](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_4.html#idm45811598367352)
        1. [Part I, Building an Architecture to Support Domain Modelling](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_4.html#idm45811598366168)
        1. [Part II, Event-Driven Architecture](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_4.html#idm45811598667352)
        1. [Epilogue](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_4.html#idm45811598149832)
    1. [Example Code and Coding Along](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_4.html#idm45811598145768)
    1. [Conventions Used in This Book](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_4.html#idm45811598143480)
    1. [O’Reilly Online Learning](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_4.html#idm45811598324040)
    1. [How to Contact O’Reilly](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_4.html#idm45811598316408)
    1. [Acknowledgments](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_4.html#idm45811598315816)
1. [Introduction: Why Do Our Designs Go Wrong?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_5.html#introduction)
    1. [Encapsulation and Abstractions](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_5.html#idm45811598339288)
    1. [Layering](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_5.html#idm45811598338664)
    1. [The Dependency Inversion Principle](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_5.html#dip)
    1. [A Place for All Our Business Logic: the Domain Model](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_5.html#idm45811597701032)
1. [I. Building an Architecture to Support Domain Modelling](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_6.html#part1)
1. [1. Domain Modelling](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_7.html#chapter_01_domain_m)
    1. [What Is a Domain Model?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_7.html#idm45811597531304)
    1. [Exploring the Domain Language](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_7.html#idm45811597530360)
    1. [Unit Testing Domain Models](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_7.html#idm45811597463832)
        1. [Dataclasses Are Great for Value Objects](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_7.html#idm45811596464776)
        1. [Value Objects and Entities](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_7.html#idm45811596464152)
    1. [Not Everything Has to Be an Object: A Domain Service Function](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_7.html#idm45811597463016)
        1. [Python’s Magic Methods Let Us Use Our Models with Idiomatic Python](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_7.html#idm45811595455112)
        1. [Exceptions Can Express Domain Concepts Too](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_7.html#idm45811595378376)
1. [2. Repository Pattern](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_8.html#chapter_02_reposito)
    1. [Persisting Our Domain Model](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_8.html#idm45811595232920)
    1. [Some Pseudocode: What Are We Going to Need?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_8.html#idm45811595228776)
    1. [Applying the Dependency Inversion Principle to the Database](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_8.html#idm45811595167928)
    1. [Reminder: Our Model](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_8.html#idm45811595148104)
        1. [The “Normal” ORM Way: Model Depends on ORM](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_8.html#idm45811595142024)
        1. [Inverting the Dependency: ORM Depends on Model](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_8.html#idm45811594869704)
    1. [Introducing Repository Pattern](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_8.html#idm45811594869208)
        1. [The Repository in the Abstract](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_8.html#idm45811590271448)
        1. [What Is the Trade-Off?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_8.html#idm45811590190760)
    1. [Building a Fake Repository for Tests Is Now Trivial!](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_8.html#idm45811590189784)
    1. [What is a Port and What is an Adapter, in Python?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_8.html#what_is_a_port_and_)
    1. [Wrap-Up](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_8.html#idm45811589134776)
1. [3. A Brief Interlude: On Coupling and Abstractions](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_9.html#chapter_03_abstract)
    1. [Abstracting State Aids Testability](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_9.html#idm45811589077752)
    1. [Choosing the Right Abstraction(s)](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_9.html#idm45811589077128)
    1. [Implementing Our Chosen Abstractions](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_9.html#idm45811588528600)
        1. [Testing Edge-to-Edge with Fakes and Dependency Injection](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_9.html#idm45811587861432)
        1. [Why Not Just Patch It Out?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_9.html#idm45811587860808)
    1. [Wrap-up: Some Heuristics for Choosing Abstractions](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_9.html#idm45811587606184)
1. [4. Our First Use Case: Flask API and Service Layer](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_10.html#chapter_04_service_)
    1. [Connecting Our Application to the Real World](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_10.html#idm45811587416696)
    1. [A First End-To-End (E2E) Test](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_10.html#idm45811587409768)
    1. [The Straightforward Implementation](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_10.html#idm45811586905464)
    1. [Error Conditions That Require Database Checks](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_10.html#idm45811587027864)
    1. [Introducing a Service Layer, and Using FakeRepository to Unit Test It](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_10.html#idm45811586130808)
        1. [A Typical Service Function](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_10.html#idm45811585655064)
    1. [Why Is Everything Called A Service?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_10.html#why_is_everything_a)
    1. [Putting things in folders to see where everything belongs](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_10.html#idm45811584962056)
    1. [Wrap-Up](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_10.html#idm45811582991944)
        1. [The DIP in Action](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_10.html#idm45811589788328)
1. [5. TDD in High Gear and Low Gear](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_11.html#chapter_05_high_gea)
    1. [How is our Test Pyramid Looking?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_11.html#idm45811586384072)
    1. [Should Domain Layer Tests Move to the Service Layer?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_11.html#idm45811589770312)
    1. [On Deciding What Kind of Tests to Write](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_11.html#kinds_of_tests)
    1. [High and Low Gear](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_11.html#idm45811581237704)
    1. [Fully Decoupling the Service Layer Tests From the Domain](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_11.html#primitive_obsession)
        1. [Mitigation: Keep All Domain Dependencies in Fixture Functions](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_11.html#idm45811581067992)
        1. [Adding a Missing Service](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_11.html#idm45811581062024)
    1. [Carrying the Improvement Through to the E2E Tests](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_11.html#idm45811581221336)
    1. [Wrap-Up](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_11.html#idm45811580461128)
1. [6. Unit of Work Pattern](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_12.html#chapter_06_uow)
    1. [The Unit of Work Collaborates with Repository(-Ies)](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_12.html#idm45811580245944)
    1. [Test-Driving a UoW with Integration Tests](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_12.html#idm45811580003096)
    1. [Unit of Work and Its Context Manager](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_12.html#idm45811579817272)
        1. [The Real Unit of Work Uses SQLAlchemy Sessions](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_12.html#idm45811579550440)
    1. [Fake Unit of Work for Testing:](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_12.html#idm45811579387832)
    1. [Using the UoW in the Service Layer](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_12.html#idm45811579129176)
    1. [Explicit Tests for Commit/Rollback Behavior](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_12.html#idm45811578984952)
    1. [Explicit vs Implicit Commits](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_12.html#idm45811578929944)
    1. [Examples: Using UoW to Group Multiple Operations Into an Atomic Unit](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_12.html#idm45811578651944)
        1. [Example 1: Reallocate](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_12.html#idm45811578492984)
        1. [Example 2: Change Batch Quantity](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_12.html#idm45811578424888)
    1. [Tidying Up the Integration Tests](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_12.html#idm45811578468008)
    1. [Wrap-Up](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_12.html#idm45811578325224)
1. [7. Aggregates and Consistency Boundaries](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_13.html#chapter_07_aggregat)
    1. [Why Not Just Run Everything in a Spreadsheet?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_13.html#idm45811578180328)
    1. [Invariants, Constraints and Consistency](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_13.html#idm45811578175496)
        1. [Invariants, Concurrency and Locks](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_13.html#idm45811578167768)
    1. [What is an Aggregate?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_13.html#idm45811578160248)
    1. [Choosing an Aggregate](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_13.html#idm45811578159656)
    1. [1 Aggregate = 1 Repository](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_13.html#idm45811578148760)
    1. [Optimistic Concurrency With Version Numbers](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_13.html#idm45811577664424)
        1. [Implementation Options for Version Numbers](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_13.html#idm45811577648328)
    1. [Testing for Our Data Integrity Rules](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_13.html#idm45811577406520)
        1. [Enforcing Concurrency Rules by Using Database Transaction Isolation Levels](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_13.html#idm45811576896200)
        1. [SELECT FOR UPDATE Can Also Help](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_13.html#idm45811577110904)
1. [II. Event-Driven Architecture](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_14.html#part2)
1. [8. Events and the Message Bus](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_15.html#chapter_08_events_a)
    1. [Avoiding Making a Mess.](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_15.html#idm45811577277256)
        1. [First, Avoid Making a Mess of of Our Web Controllers](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_15.html#idm45811577274904)
        1. [… And Let’s Not Make a Mess of Our Model Either](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_15.html#idm45811577269928)
        1. [… Or the Service Layer!](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_15.html#idm45811576505240)
    1. [Single Responsibility Principle](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_15.html#idm45811576612408)
    1. [All Aboard the Message Bus!](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_15.html#idm45811576410120)
        1. [The Model Records Events](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_15.html#idm45811576407432)
        1. [Events Are Simple Dataclasses](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_15.html#idm45811576405592)
        1. [The Model Raises Events](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_15.html#idm45811576364680)
        1. [The Message Bus Maps Events to Handlers](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_15.html#idm45811576202792)
    1. [Option 1 : The Service Layer Takes Events from the Model and Puts them on the Message Bus](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_15.html#idm45811575899000)
    1. [Option 2: The Service Layer Raises Its Own Events](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_15.html#idm45811575836856)
    1. [Option 3: The Unit of Work Can Publish Events to the Message Bus](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_15.html#idm45811575831096)
    1. [Wrap-Up](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_15.html#idm45811575578776)
1. [9. Going to Town on the Message Bus](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_16.html#chapter_09_all_mess)
    1. [A New Requirement Leads Us to Consider a New Architecture](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_16.html#idm45811574610696)
        1. [Imagining an Architecture Change: Everything Will Be an Event Handler](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_16.html#idm45811574593288)
    1. [Refactoring Service Functions to Message Handlers](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_16.html#idm45811574610232)
        1. [The MessageBus Becomes Responsible for Collecting Events from the UoW](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_16.html#idm45811574369960)
        1. [Our Tests Are All Written in Terms of Events Too:](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_16.html#idm45811574098664)
        1. [A Temporary Ugly Hack: The Messagebus Has to Return Results](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_16.html#temporary_ugly_hack)
        1. [Modifying Our API to Do Events](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_16.html#idm45811573983736)
    1. [Implementing Our New Requirement](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_16.html#idm45811574569400)
        1. [Our New Event](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_16.html#idm45811573849304)
    1. [Test-Driving a New Handler](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_16.html#idm45811573836872)
        1. [Implementation](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_16.html#idm45811573708024)
        1. [A New Method on the Domain Model](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_16.html#idm45811573343848)
    1. [What Have We Achieved?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_16.html#idm45811572730504)
    1. [Why Have We Achieved?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_16.html#idm45811572424776)
1. [10. Commands and Command Handler](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_17.html#chapter_10_commands)
    1. [Commands and Events](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_17.html#idm45811572403000)
    1. [Differences in Exception-handling](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_17.html#idm45811572402376)
    1. [Discussion: Events, Commands, and Error Handling](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_17.html#idm45811572165432)
    1. [Recovering From Errors Synchronously](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_17.html#recovering_from_err)
1. [11. Event-Driven Architecture: Using Events to Integrate Microservices](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_18.html#chapter_11_external)
    1. [Distributed Ball of Mud, and Thinking in Nouns](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_18.html#idm45811570964872)
    1. [Error Handling in Distributed Systems](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_18.html#idm45811570964312)
    1. [The Alternative: Temporal Decoupling using Asynchronous Messaging](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_18.html#idm45811570792664)
    1. [Using a Redis Pubsub Channel for Integration](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_18.html#idm45811570783496)
    1. [Test-Driving It All Using an End-To-End Test](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_18.html#idm45811570772664)
        1. [Redis Is Another Thin Adapter Around Our Message Bus](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_18.html#idm45811570381112)
        1. [Our New Outgoing Event](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_18.html#idm45811570110568)
    1. [Wrap-Up](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_18.html#idm45811570109976)
1. [12. Command-Query Responsibility Separation (CQRS)](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_19.html#chapter_12_cqrs)
    1. [Domain models are for writing](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_19.html#idm45811569830904)
    1. [Most users aren’t going to buy your furniture](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_19.html#idm45811569733464)
    1. [Post/Redirect/Get and CQS](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_19.html#idm45811569708344)
    1. [Hold on to Your Lunch Folks.](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_19.html#idm45811569707720)
    1. [Testing CQRS Views](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_19.html#idm45811569261640)
    1. [“Obvious” Alternative 1: Using the Existing Repository](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_19.html#idm45811569070968)
    1. [Your Domain Model is not Optimized for Read Operations](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_19.html#idm45811568853480)
    1. [“Obvious” Alternative 2: Using the ORM](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_19.html#idm45811568847912)
    1. [SELECT N+1, and Other Performance Considerations](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_19.html#idm45811568688568)
    1. [Time to completely jump the shark](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_19.html#idm45811568682616)
        1. [Updating a Read Model Table Using an Event Handler](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_19.html#idm45811568370552)
    1. [Changing our Read Model Implementation is Easy](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_19.html#idm45811568682120)
    1. [But Would You Really?  CRUD versus CQRS.](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_19.html#idm45811568210040)
1. [13. Dependency Injection (And Bootstrapping)](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_20.html#chapter_13_dependen)
    1. [Implicit vs Explicit Dependencies](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_20.html#idm45811567954232)
    1. [Aren’t Explicit Dependencies Totally Weird and Java-Ey Tho?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_20.html#idm45811567953608)
    1. [Preparing Handlers: Manual DI with Closures and Partials](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_20.html#idm45811567766920)
    1. [An Alternative Using Classes](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_20.html#idm45811567244856)
    1. [A Bootstrap Script](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_20.html#idm45811567517112)
    1. [Messagebus Gets Given Handlers at Runtime](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_20.html#idm45811567516520)
    1. [Using Bootstrap in Our Entrypoints](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_20.html#idm45811566651192)
    1. [Initializing DI in Our Tests](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_20.html#idm45811566073672)
    1. [Building an Adapter “Properly”: A Worked Example](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_20.html#idm45811565875880)
        1. [Define the Abstract and Concrete Implementations](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_20.html#idm45811565957000)
        1. [Make a Fake Version for your Tests](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_20.html#idm45811565428920)
        1. [Figure out how to Integration Test the Real Thing](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_20.html#idm45811565401320)
    1. [DI and bootstrap wrap-up](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_20.html#idm45811565875256)
1. [Epilogue: What now?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_21.html#epilogue_1_how_to_g)
    1. [How do I get there from here?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_21.html#idm45811564896648)
    1. [Separating entangled responsibilities](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_21.html#idm45811565115272)
    1. [Identifying Aggregates and Bounded Contexts](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_21.html#idm45811565114648)
    1. [An Event-driven Approach to go Microservices Via Strangler Pattern](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_21.html#idm45811564961752)
    1. [Convincing your stakeholders to try something new](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_21.html#idm45811564481224)
    1. [Getting started](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_21.html#idm45811564421816)
    1. [More required reading](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_21.html#idm45811564405208)
    1. [Questions our Tech Reviewers Asked That We Couldn’t Work Into Prose](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_21.html#idm45811564400168)
    1. [Footguns](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_21.html#footguns)
        1. [Reliable messaging is hard](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_21.html#idm45811564375384)
        1. [We explicitly choose small, focused transactions that can fail independently](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_21.html#idm45811564370584)
        1. [We don’t discuss idempotency](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_21.html#idm45811564365992)
        1. [Your events will need to change their schema over time](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_21.html#idm45811564361128)
1. [A. Summary diagram and table](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_22.html#appendix_ds1_table)
1. [B. A Template Project Structure](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_23.html#appendix_project_st)
    1. [Env Vars, 12-Factor, and Config, Inside and Outside Containers.](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_23.html#idm45811564228664)
    1. [Config.py](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_23.html#idm45811564222536)
    1. [Docker-Compose and Containers Config](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_23.html#idm45811564138664)
    1. [Installing Your Source as a Package](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_23.html#idm45811563864888)
    1. [Dockerfile](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_23.html#idm45811563804504)
    1. [Tests](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_23.html#idm45811563667112)
    1. [Wrap-up](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_23.html#idm45811563660424)
1. [C. Swapping Out the Infrastructure: Do Everything with CSVs](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_24.html#appendix_csvs)
    1. [Implementing a Repository and Unit of Work for CSVs](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_24.html#idm45811563067848)
1. [D. Repository and Unit of Work Patterns with Django](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_25.html#appendix_django)
    1. [Repository Pattern with Django](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_25.html#idm45811561947384)
        1. [Custom Methods on Django ORM Classes to Translate To/From Our Domain Model](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_25.html#idm45811561529512)
    1. [Unit of Work Pattern with Django](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_25.html#idm45811561946760)
    1. [API: Django Views Are Adapters](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_25.html#idm45811560694712)
    1. [Why was this all so hard?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_25.html#idm45811560662200)
    1. [What To Do If You Already Have Django](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_25.html#idm45811560435480)
    1. [Steps along the way](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_25.html#idm45811560428312)
1. [E. Validation](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_26.html#appendix_validation)
    1. [What is validation anyway?](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_26.html#idm45811560415464)
    1. [Validating Syntax](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_26.html#idm45811560412152)
    1. [Postel’s Law and the Tolerant Reader Pattern](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_26.html#idm45811560411592)
    1. [Validating At The Edge](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_26.html#idm45811559938136)
    1. [Validating Semantics](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_26.html#idm45811559923512)
    1. [Validating Pragmatics](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_26.html#idm45811559611384)
1. [Index](https://ebookreading.net/view/book/Architecture+Patterns+with+Python-EB9781492052197_27.html#idm45811559232552)
