![Cover image for Ruby Under a Microscope](https://imgdetail.ebookreading.net/cover/cover/software_development/EB9781457185243.jpg)

[Ruby Under a Microscope](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_1.html "Ruby Under a Microscope")
====================================================================================================================

Author : [Pat Shaughnessy](https://ebookreading.net/search/author/Pat+Shaughnessy)

Release Date : 2013/11/01

ISBN : 9781457185243

Topic : [Software Development](https://ebookreading.net/search/category/software-development)

Book Description
-----------------

Ruby Under a Microscope gives developers an inside, hands-on look at Ruby's core, using simple diagrams coupled with clear explanations.
              
Table of Contents
-----------------

1. [Ruby Under a Microscope: An Illustrated Guide to Ruby Internals](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_2.html)
1. [Dedication](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_3.html)
1. [Advance Praise for Ruby under a Microscope](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_4.html)
1. [About the Author](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_5.html)
1. [Foreword](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_6.html)
1. [Acknowledgments](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_7.html)
1. [Introduction](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_8.html)
    1. [Who This Book Is For](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_8.html#who_this_book_is_fo)
    1. [Using Ruby to Test Itself](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_8.html#using_ruby_to_test_)
    1. [Which Implementation of Ruby?](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_8.html#which_implementatio)
    1. [Overview](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_8.html#overview)
1. [1. Tokenization and Parsing](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_9.html)
    1. [Tokens: The Words That Make Up the Ruby Language](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_9.html#tokens_the_words_th)
    1. [Experiment 1-1: Using Ripper to Tokenize Different Ruby Scripts](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_9.html#experiment_1-1_usin)
    1. [Parsing: How Ruby Understands Your Code](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_9.html#parsing_how_ruby_un)
        1. [Understanding the LALR Parse Algorithm](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_9.html#understanding_the_l)
        1. [Some Actual Ruby Grammar Rules](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_9.html#some_actual_ruby_gr)
    1. [Experiment 1-2: Using Ripper to Parse Different Ruby Scripts](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_9.html#experiment_1-2_usin)
    1. [Summary](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_9.html#summary-id00004)
1. [2. Compilation](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_10.html)
    1. [No Compiler for Ruby 1.8](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_10.html#no_compiler_for_rub)
    1. [Ruby 1.9 and 2.0 Introduce a Compiler](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_10.html#ruby_1dot9_and_2dot)
    1. [How Ruby Compiles a Simple Script](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_10.html#how_ruby_compiles_a)
    1. [Compiling a Call to a Block](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_10.html#compiling_a_call_to)
    1. [Experiment 2-1: Displaying YARV Instructions](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_10.html#experiment_2-1_disp)
    1. [The Local Table](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_10.html#local_table)
        1. [Compiling Optional Arguments](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_10.html#compiling_optional_)
        1. [Compiling Keyword Arguments](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_10.html#compiling_keyword_a)
    1. [Experiment 2-2: Displaying the Local Table](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_10.html#experiment_2-2_disp)
    1. [Summary](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_10.html#summary-id00008)
1. [3. How Ruby Executes Your Code](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_11.html)
    1. [YARV’s Internal Stack and Your Ruby Stack](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_11.html#yarvapostrophes_int)
        1. [Stepping Through How Ruby Executes a Simple Script](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_11.html#stepping_through_ho)
        1. [Executing a Call to a Block](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_11.html#executing_a_call_to)
    1. [Experiment 3-1: Benchmarking Ruby 2.0 and Ruby 1.9 vs. Ruby 1.8](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_11.html#experiment_3-1_benc)
    1. [Local and Dynamic Access of Ruby Variables](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_11.html#local_and_dynamic_a)
        1. [Local Variable Access](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_11.html#local_variable_acce)
        1. [Method Arguments Are Treated Like Local Variables](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_11.html#method_arguments_ar)
        1. [Dynamic Variable Access](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_11.html#dynamic_variable_ac)
    1. [Experiment 3-2: Exploring Special Variables](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_11.html#experiment_3-2_expl)
    1. [Summary](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_11.html#summary-id00011)
1. [4. Control Structures and Method Dispatch](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_12.html)
    1. [How Ruby Executes an if Statement](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_12.html#how_ruby_executes_a)
    1. [Jumping from One Scope to Another](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_12.html#jumping_from_one_sc)
        1. [Catch Tables](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_12.html#catch_tables)
        1. [Other Uses for Catch Tables](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_12.html#other_uses_for_catc)
    1. [Experiment 4-1: Testing How Ruby Implements for Loops Internally](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_12.html#experiment_4-1_test)
    1. [The send Instruction: Ruby’s Most Complex Control Structure](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_12.html#send_instruction_ru)
        1. [Method Lookup and Method Dispatch](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_12.html#method_lookup_and_m)
        1. [Eleven Types of Ruby Methods](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_12.html#eleven_types_of_rub)
    1. [Calling Normal Ruby Methods](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_12.html#calling_normal_ruby)
        1. [Preparing Arguments for Normal Ruby Methods](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_12.html#preparing_arguments)
    1. [Calling Built-In Ruby Methods](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_12.html#calling_built-in_ru)
        1. [Calling attr_reader and attr_writer](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_12.html#calling_attrundersc)
        1. [Method Dispatch Optimizes attr_reader and attr_writer](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_12.html#method_dispatch_opt)
    1. [Experiment 4-2: Exploring How Ruby Implements Keyword Arguments](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_12.html#experiment_4-2_expl)
    1. [Summary](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_12.html#summary-id00014)
1. [5. Objects and Classes](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_13.html)
    1. [Inside a Ruby Object](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_13.html#inside_a_ruby_objec)
        1. [Inspecting klass and ivptr](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_13.html#inspecting_klass_an)
        1. [Visualizing Two Instances of One Class](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_13.html#visualizing_two_ins)
        1. [Generic Objects](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_13.html#generic_objects)
        1. [Simple Ruby Values Don’t Require a Structure at All](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_13.html#simple_ruby_values_)
        1. [Do Generic Objects Have Instance Variables?](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_13.html#do_generic_objects_)
        1. [Where Does Ruby Save Instance Variables for Generic Objects?](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_13.html#where_does_ruby_sav)
    1. [Experiment 5-1: How Long Does It Take to Save a New Instance Variable?](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_13.html#experiment_5-1_how_)
    1. [What’s Inside the RClass Structure?](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_13.html#whatapostrophes_ins)
        1. [Inheritance](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_13.html#inheritance)
        1. [Class Instance Variables vs. Class Variables](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_13.html#class_instance_vari)
        1. [Getting and Setting Class Variables](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_13.html#getting_and_setting)
        1. [Constants](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_13.html#constants)
        1. [The Actual RClass Structure](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_13.html#actual_rclass_struc)
    1. [Experiment 5-2: Where Does Ruby Save Class Methods?](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_13.html#experiment_5-2_wher)
    1. [Summary](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_13.html#summary-id00017)
1. [6. Method Lookup and Constant Lookup](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html)
    1. [How Ruby Implements Modules](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#how_ruby_implements)
        1. [Modules Are Classes](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#modules_are_classes)
        1. [Including a Module into a Class](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#including_a_module_)
    1. [Ruby’s Method Lookup Algorithm](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#rubyapostrophes_met)
        1. [A Method Lookup Example](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#method_lookup_examp)
        1. [The Method Lookup Algorithm in Action](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#method_lookup_algor)
        1. [Multiple Inheritance in Ruby](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#multiple_inheritanc)
        1. [The Global Method Cache](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#global_method_cache)
        1. [The Inline Method Cache](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#inline_method_cache)
        1. [Clearing Ruby’s Method Caches](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#clearing_rubyapostr)
        1. [Including Two Modules into One Class](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#including_two_modul)
        1. [Including One Module into Another](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#including_one_modul)
        1. [A Module#prepend Example](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#modulehashprepend_e)
        1. [How Ruby Implements Module#prepend](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#how_ruby_implements)
    1. [Experiment 6-1: Modifying a Module After Including It](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#experiment_6-1_modi)
        1. [Classes See Methods Added to a Module Later](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#classes_see_methods)
        1. [Classes Don’t See Submodules Included Later](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#classes_donapostrop)
        1. [Included Classes Share the Method Table with the Original Module](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#included_classes_sh)
    1. [Constant Lookup](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#constant_lookup)
        1. [Finding a Constant in a Superclass](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#finding_a_constant_)
        1. [How Does Ruby Find a Constant in the Parent Namespace?](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#how_does_ruby_find_)
    1. [Lexical Scope in Ruby](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#lexical_scope_in_ru)
        1. [Creating a Constant for a New Class or Module](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#creating_a_constant)
        1. [Finding a Constant in the Parent Namespace Using Lexical Scope](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#finding_a_constant_)
        1. [Ruby’s Constant Lookup Algorithm](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#rubyapostrophes_con)
    1. [Experiment 6-2: Which Constant Will Ruby Find First?](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#experiment_6-2_whic)
        1. [Ruby’s Actual Constant Lookup Algorithm](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#rubyapostrophes_act)
    1. [Summary](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_14.html#summary-id00023)
1. [7. The Hash Table: The Workhorse of Ruby Internals](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_15.html)
    1. [Hash Tables in Ruby](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_15.html#hash_tables_in_ruby)
        1. [Saving a Value in a Hash Table](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_15.html#saving_a_value_in_a)
        1. [Retrieving a Value from a Hash Table](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_15.html#retrieving_a_value_)
    1. [Experiment 7-1: Retrieving a Value from Hashes of Varying Sizes](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_15.html#experiment_7-1_retr)
    1. [How Hash Tables Expand to Accommodate More Values](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_15.html#how_hash_tables_exp)
        1. [Hash Collisions](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_15.html#hash_collisions)
        1. [Rehashing Entries](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_15.html#rehashing_entries)
    1. [Experiment 7-2: Inserting One New Element into Hashes of Varying Sizes](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_15.html#experiment_7-2_inse)
    1. [How Ruby Implements Hash Functions](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_15.html#how_ruby_implements)
    1. [Experiment 7-3: Using Objects as Keys in a Hash](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_15.html#experiment_7-3_usin)
        1. [Hash Optimization in Ruby 2.0](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_15.html#hash_optimization_i)
    1. [Summary](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_15.html#summary-id00028)
1. [8. How Ruby Borrowed a Decades-Old Idea from Lisp](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_16.html)
    1. [Blocks: Closures in Ruby](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_16.html#blocks_closures_in_)
        1. [Stepping Through How Ruby Calls a Block](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_16.html#stepping_through_ho)
        1. [Borrowing an Idea from 1975](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_16.html#borrowing_an_idea_f)
    1. [Experiment 8-1: Which Is Faster: A while Loop or Passing a Block to each?](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_16.html#experiment_8-1_whic)
    1. [Lambdas and Procs: Treating a Function as a First-Class Citizen](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_16.html#lambdas_and_procs_t)
        1. [Stack vs. Heap Memory](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_16.html#stack_vsdot_heap_me)
        1. [A Closer Look at How Ruby Saves a String Value](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_16.html#closer_look_at_how_)
        1. [How Ruby Creates a Lambda](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_16.html#how_ruby_creates_a_)
        1. [How Ruby Calls a Lambda](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_16.html#how_ruby_calls_a_la)
        1. [The Proc Object](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_16.html#proc_object)
    1. [Experiment 8-2: Changing Local Variables After Calling lambda](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_16.html#experiment_8-2_chan)
        1. [Calling lambda More Than Once in the Same Scope](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_16.html#calling_lambda_more)
    1. [Summary](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_16.html#summary-id00033)
1. [9. Metaprogramming](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html)
    1. [Alternative Ways to Define Methods](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#alternative_ways_to)
        1. [Ruby’s Normal Method Definition Process](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#rubyapostrophes_nor)
        1. [Defining Class Methods Using an Object Prefix](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#defining_class_meth)
        1. [Defining Class Methods Using a New Lexical Scope](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#defining_class_meth)
        1. [Defining Methods Using Singleton Classes](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#defining_methods_us)
        1. [Defining Methods Using Singleton Classes in a Lexical Scope](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#defining_methods_us)
        1. [Creating Refinements](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#creating_refinement)
        1. [Using Refinements](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#using_refinements)
    1. [Experiment 9-1: Who Am I? How self Changes with Lexical Scope](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#experiment_9-1_who_)
        1. [self in the Top Scope](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#self_in_the_top_sco)
        1. [self in a Class Scope](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#self_in_a_class_sco)
        1. [self in a Metaclass Scope](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#self_in_a_metaclass)
        1. [self Inside a Class Method](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#self_inside_a_class)
    1. [Metaprogramming and Closures: eval, instance_eval, and binding](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#metaprogramming_and)
        1. [Code That Writes Code](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#code_that_writes_co)
        1. [Calling eval with binding](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#calling_eval_with_b)
        1. [An instance_eval Example](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#instanceunderscoree)
        1. [Another Important Part of Ruby Closures](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#another_important_p)
        1. [instance_eval Changes self to the Receiver](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#instanceunderscoree)
        1. [instance_eval Creates a Singleton Class for a New Lexical Scope](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#instanceunderscoree)
    1. [Experiment 9-2: Using a Closure to Define a Method](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#experiment_9-2_usin)
        1. [Using define_method](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#using_defineundersc)
        1. [Methods Acting as Closures](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#methods_acting_as_c)
    1. [Summary](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_17.html#summary-id00038)
1. [10. JRuby: Ruby on the JVM](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_18.html)
    1. [Running Programs with MRI and JRuby](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_18.html#running_programs_wi)
        1. [How JRuby Parses and Compiles Your Code](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_18.html#how_jruby_parses_an)
        1. [How JRuby Executes Your Code](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_18.html#how_jruby_executes_)
        1. [Implementing Ruby Classes with Java Classes](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_18.html#implementing_ruby_c)
    1. [Experiment 10-1: Monitoring JRuby’s Just-in-Time Compiler](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_18.html#experiment_10-1_mon)
        1. [Experiment Code](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_18.html#experiment_code)
        1. [Using the -J-XX:+PrintCompilation Option](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_18.html#using_the_-j-xxplus)
        1. [Does JIT Speed Up Your JRuby Program?](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_18.html#does_jit_speed_up_y)
    1. [Strings in JRuby and MRI](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_18.html#strings_in_jruby_an)
        1. [How JRuby and MRI Save String Data](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_18.html#how_jruby_and_mri_s)
        1. [Copy-on-Write](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_18.html#copy-on-write)
    1. [Experiment 10-2: Measuring Copy-on-Write Performance](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_18.html#experiment_10-2_mea)
        1. [Creating a Unique, Nonshared String](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_18.html#creating_a_uniqueco)
        1. [Experiment Code](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_18.html#experiment_code-id0)
        1. [Visualizing Copy-on-Write](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_18.html#visualizing_copy-on)
        1. [Modifying a Shared String Is Slower](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_18.html#modifying_a_shared_)
    1. [Summary](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_18.html#summary-id00041)
1. [11. Rubinius: Ruby Implemented with Ruby](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_19.html)
    1. [The Rubinius Kernel and Virtual Machine](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_19.html#rubinius_kernel_and)
        1. [Tokenization and Parsing](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_19.html#tokenization_and_pa)
        1. [Using Ruby to Compile Ruby](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_19.html#using_ruby_to_compi)
        1. [Rubinius Bytecode Instructions](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_19.html#rubinius_bytecode_i)
        1. [Ruby and C++ Working Together](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_19.html#ruby_and_cplusplus_)
        1. [Implementing Ruby Objects with C++ Objects](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_19.html#implementing_ruby_o)
    1. [Experiment 11-1: Comparing Backtraces in MRI and Rubinius](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_19.html#experiment_11-1_com)
        1. [Backtraces in Rubinius](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_19.html#backtraces_in_rubin)
    1. [Arrays in Rubinius and MRI](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_19.html#arrays_in_rubinius_)
        1. [Arrays Inside of MRI](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_19.html#arrays_inside_of_mr)
        1. [Arrays Inside of Rubinius](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_19.html#arrays_inside_of_ru)
    1. [Experiment 11-2: Exploring the Rubinius Implementation of Array#shift](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_19.html#experiment_11-2_exp)
        1. [Reading Array#shift](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_19.html#reading_arrayhashsh)
        1. [Modifying Array#shift](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_19.html#modifying_arrayhash)
    1. [Summary](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_19.html#summary-id00044)
1. [12. Garbage Collection in MRI, JRuby, and Rubinius](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html)
    1. [Garbage Collectors Solve Three Problems](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#garbage_collectors_)
    1. [Garbage Collection in MRI: Mark and Sweep](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#garbage_collection_)
        1. [The Free List](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#free_list)
        1. [Marking](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#marking)
        1. [How Does MRI Mark Live Objects?](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#how_does_mri_mark_l)
        1. [Sweeping](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#sweeping)
        1. [Lazy Sweeping](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#lazy_sweeping)
        1. [Disadvantages of Mark and Sweep](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#disadvantages_of_ma)
    1. [Experiment 12-1: Seeing MRI Garbage Collection in Action](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#experiment_12-1_see)
        1. [Seeing MRI Perform a Lazy Sweep](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#seeing_mri_perform_)
        1. [Seeing MRI Perform a Full Collection](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#seeing_mri_perform_)
        1. [Interpreting a GC Profile Report](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#interpreting_a_gc_p)
    1. [Garbage Collection in JRuby and Rubinius](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#garbage_collection_)
    1. [Copying Garbage Collection](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#copying_garbage_col)
        1. [Bump Allocation](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#bump_allocation)
        1. [The Semi-Space Algorithm](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#semi-space_algorith)
        1. [The Eden Heap](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#eden_heap)
    1. [Generational Garbage Collection](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#generational_garbag)
        1. [The Weak Generational Hypothesis](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#weak_generational_h)
        1. [Using the Semi-Space Algorithm for Young Objects](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#using_the_semi-spac)
        1. [Promoting Objects](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#promoting_objects)
        1. [Garbage Collection for Mature Objects](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#garbage_collection_)
    1. [Concurrent Garbage Collection](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#concurrent_garbage_)
        1. [Marking While the Object Graph Changes](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#marking_while_the_o)
        1. [Tricolor Marking](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#tricolor_marking)
        1. [Three Garbage Collectors in the JVM](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#three_garbage_colle)
    1. [Experiment 12-2: Using Verbose GC Mode in JRuby](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#experiment_12-2_usi)
        1. [Triggering Major Collections](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#triggering_major_co)
    1. [Further Reading](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#further_reading)
    1. [Summary](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_20.html#summary-id00048)
1. [Index](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_21.html)
1. [Copyright](https://ebookreading.net/view/book/Ruby+Under+a+Microscope-EB9781457185243_22.html)
